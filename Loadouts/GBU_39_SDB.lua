--WIP v1.0
GBU_39_SDB =
{
    category        = CAT_MISSILES,
    name            = "GBU39_SDB",
    user_name       = _('GBU-39'),
    scheme          = "JSOW_C",
    class_name      = "wAmmunitionCruise",
    model           = "CH_GBU39",
    mass            = 129,
    wsTypeOfWeapon  = {wsType_Weapon,wsType_Missile,wsType_AS_Missile,WSTYPE_PLACEHOLDER},

    Escort          = 0,
    Head_Type       = 5,
	sigma			= {3, 3, 3},  
	M				= 129.0,
	H_max			= 15000.0,
	H_min			= 300,
	Diam			= 190.0,
	Cx_pil			= 0.2,
	D_max			= 120000.0,  
	D_min			= 1000.0,
	Head_Form		= 1,
	Life_Time		= 9999,
	Nr_max			= 10,
	v_min			= 140.0,
	v_mid			= 220.0,
	Mach_max		= 1.0,
    t_b             = 0.0,    
	t_acc           = 0.0,
    t_marsh         = 0.0, 
    Range_max       = 120000.0,
    H_min_t         = 0.0,
    Fi_start        = 3.14152,
    Fi_rak          = 3.14152,
    Fi_excort       = 3.14152,
    Fi_search       = 99.9,
    OmViz_max       = 99.9,
    X_back          = 0.0,
    Y_back          = 0.0,
    Z_back          = 0.0,
    KillDistance    = 0.0,
    Reflection      = 0.02,
    
    LaunchDistData = 
    {
	    18,     10,

			    100,	150,	200,	250,	300,	350,	400,	450,	500,	550,		
	    300,	0,		0,		7500,	14000,	18000,	22000,	25000,	27000,	29000,	31000,	
	    500,	0,		0,		9000,	16000,	21000,	25000,	28000,	30000,	32000,	34000,	
	    700,	0,		0,		10500,	18000,	23000,	27000,	30000,	32000,	34000,	36000,	
	    1000,	0,		7000,	12500,	20000,	26000,	29000,	32000,	34000,	36000,	38000,	
	    2000,	9500,	15000,	22000,	29000,	37000,	40000,	43000,	45000,	47000,	49000,	
	    3000,	17000,	23000,	30000,	38000,	45000,	49000,	52000,	55000,	57000,	59000,	
	    4000,	24000,	31000,	38000,	46000,	52000,	56000,	59000,	62000,	64000,	66000,	
	    5000,	31000,	39000,	46000,	54000,	60000,	64000,	67000,	70000,	72000,	74000,	
	    6000,	38000,	47000,	54000,	62000,	68000,	72000,	75000,	78000,	80000,	82000,	
     	7000,	45000,	54000,	62000,	70000,	76000,	80000,	83000,	86000,	88000,	90000,	
	    8000,	52000,	61000,	70000,	78000,	84000,	88000,	91000,	94000,	96000,	98000,	
	    9000,	59000,	68000,	78000,	86000,	92000,	96000,	99000,	102000,	104000,	106000,	
	    10000,	65000,	75000,	85000,	93000,	99000,	103000,	106000,	109000,	111000,	113000,	
	    11000,	71000,	81000,	91000,	99000,	105000,	109000,	112000,	115000,	117000,	119000,	
	    12000,	77000,	87000,	97000,	104000,	110000,	114000,	117000,	120000,	120000,	120000,	
	    13000,	81000,	91000,	101000,	108000,	113000,	117000,	120000,	120000,	120000,	120000,	
	    14000,	85000,	95000,	105000,	112000,	116000,	120000,	120000,	120000,	120000,	120000,	
	    15000,	89000,	99000,	109000,	115000,	119000,	120000,	120000,	120000,	120000,	120000,
    },
        
    shape_table_data =
    {
        {
            name     = "GBU39_SDB",
            file     = "CH_GBU39",
            life     = 1,
            fire     = { 0, 1},
            username = "GBU-39",
            index    = WSTYPE_PLACEHOLDER,
        },
    },
	
	warhead = penetrating_warhead(129,129),
	warhead_air = penetrating_warhead(129,129),  	
    
	fm =	{ 
		mass				= 485,
		caliber				= 0.4,
		cx_coeff			= {0.25, 0.2125, 0.2, 0.15, 1.55},
		L					= 4.06,
		I					= 1000,
		Ma					= 2,
		Mw					= 7,
		wind_sigma			= 0.0,
		wind_time			= 0.0,
		Sw					= 1.8,
		dCydA				= {0.07, 0.036},
		A					= 0.15,
		maxAoa				= 0.4,
		finsTau				= 0.2,
		Ma_x				= 2,
		Ma_z				= 2,
		Mw_x				= 1.4,

		addDeplSw			= 0.6,
		no_wings_A_mlt		= 2,
		wingsDeplProcTime	= 1,
		wingsDeplDelay		= 9999,
		no_wings_cx_coeff = {0.25, 0.1125, 0.2, 0.10, 1.55},
		
		release_rnd		= 0.3,
		release_rnd_x	= 0.0,
	},	
    
    seeker = {
        CEP                			 = 2.0,	
        coalition                    = 2,
        coalition_rnd_coeff          = 1.0,
        can_update_target_pos        = 1,
    },
    
    control_block = { 
        seeker_activation_dist       = 10000,
        default_cruise_height        = 3500,
        obj_sensor                   = 0,
        can_update_target_pos        = 1,
        turn_before_point_reach      = 1,
        turn_hor_N                   = 2.5,
        turn_max_calc_angle_deg      = 90,
        turn_point_trigger_dist      = 100,
    },
    
    autopilot = {
        delay                       = 0.5,
        K                           = 80,
        Ki                          = 0.00001,
        Kg                          = 4,
        nw_K                        = 20,
        nw_Ki                       = 0.00001,
        nw_Kg                       = 1.5,
        finsLimit                   = 0.5,
        useJumpByDefault            = 0,
        J_Power_K                   = 3.0,
        J_Diff_K                    = 2.0,
        J_Int_K                     = 0.0,
        J_Angle_W                   = 0.1,
        Kp_hor_err                  = 120,
        hKp_err                     = 40,
        Kx                          = 0.02,
        Kxd                         = 0.0,
        K_err_mlt                   = 2.0,
        K_roll_diff_mlt             = 2.0,
        roll_limit                  = 1.0,
        w_limit                     = 0.4,
        fins_limit_x                = 0.02,
        egm_Angle_K                 = 0.2,
        egm_FinAngle_K              = 0.2,
        egm_add_power_K             = 0.1,
        wings_depl_fins_limit_K     = 0.2,
        err_new_wlos_k              = 1.0,
        err_aoaz_k                  = 0,
        err_aoaz_sign_k             = 0.0,

        alternative_roll_params     = 1,
        w_x_limit                   = 0.8,
        err_limit                   = 0.5,
        err_min                     = 0.02,
        corr_err_min                = 0.005,
        roll_limit                  = 1.3,
        fins_limit_x                = 0.01,
        K_err_mlt                   = 4.0,
        K_roll_diff_mlt             = 4.0,
        Kx                          = 0.04,
        
        alternative_jump_params     = 0,
        K_pitch_diff_mlt            = 5.0,
        w_limit                     = 0.5,
        Kpj                         = 0.3,
    },
}

declare_weapon(GBU_39_SDB)

declare_loadout({
	category 		= CAT_BOMBS,
	CLSID	 		= "{4_SDB_IWB}",
    wsTypeOfWeapon  = GBU_39_SDB.wsTypeOfWeapon,
    attribute       = {4, 4, 32, WSTYPE_PLACEHOLDER},	
	Count 			= 4,
	Cx_pil			= 0.2,
	Picture			= "GBU39.png",
	displayName		= _("GBU-39/B - SDB, 250lb GPS Guided Glide Bomb"),
	Weight			= 129 * 4 + 130,
    Elements       = {
        { ShapeName = 'CH_BRU61', IsAdapter = true, },
        { ShapeName = "CH_GBU39",        connector_name = 'AttachPoint001', },
        { ShapeName = "CH_GBU39",        connector_name = 'AttachPoint002', },
        { ShapeName = "CH_GBU39",        connector_name = 'AttachPoint003', },
        { ShapeName = "CH_GBU39",        connector_name = 'AttachPoint004', },		
    },
	
})